{"version":3,"file":"src_app_modules_my-trips_booking_booking_module_ts.js","mappings":"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","sources":["./src/app/modules/my-trips/booking/booking-routing.module.ts","./src/app/modules/my-trips/booking/booking.component.ts","./src/app/modules/my-trips/booking/booking.component.html","./src/app/modules/my-trips/booking/booking.module.ts","./src/app/modules/my-trips/booking/components/booking-summary-header/booking-summary-header.component.ts","./src/app/modules/my-trips/booking/components/booking-summary-header/booking-summary-header.component.html","./src/app/modules/my-trips/booking/components/booking-summary-info/booking-summary-info.component.ts","./src/app/modules/my-trips/booking/components/booking-summary-info/booking-summary-info.component.html","./src/app/modules/my-trips/booking/components/booking-summary/booking-summary.component.ts","./src/app/modules/my-trips/booking/components/booking-summary/booking-summary.component.html","./src/app/modules/my-trips/booking/components/mob-booking-summary-info/mob-booking-summary-info.component.ts","./src/app/modules/my-trips/booking/components/mob-booking-summary-info/mob-booking-summary-info.component.html","./src/app/modules/my-trips/booking/components/mob-booking-summary/mob-booking-summary.component.ts","./src/app/modules/my-trips/booking/components/mob-booking-summary/mob-booking-summary.component.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { BookingComponent } from './booking.component';\n\nconst routes: Routes = [{ path: '', component: BookingComponent }];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule],\n})\nexport class BookingSummaryRoutingModule {}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { CartStatus } from '@core/constants/cart-status';\nimport { ServiceId } from '@core/constants/service-id.const';\nimport { ToolsService } from '@core/utils/tools-service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { IAccommodationsCartData } from '@schemas/modules/accommodations/accommodations-cart-data';\nimport { BookingCart, BookingSummary } from '@schemas/modules/bookings/booking-summary';\nimport { ICart } from '@schemas/modules/cart/cart';\nimport { IFlightsCartData } from '@schemas/modules/flights/flights-cart-data';\nimport { DialogService } from '@services/dialog.service';\nimport { BookingDataService } from '@services/modules/bookings/dataservices/booking.data.service';\nimport { CartService } from '@services/modules/cart/services/cart.service';\nimport { UserService } from '@services/modules/user/services/user.service';\nimport { SettingsService } from '@services/services/settings-service';\nimport { skip, takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\nimport { CartUtils } from '@services/modules/cart/utils/cart.utils';\nimport { PlatformService } from '@services/platform.service';\nimport { BookingServiceService } from '@services/modules/bookings/services/booking-service.service';\n\n@Component({\n    selector: 'tz-booking',\n    templateUrl: './booking.component.html',\n    styleUrls: ['./booking.component.scss'],\n})\nexport class BookingComponent implements OnInit, OnDestroy {\n    public bookingSummary!: BookingSummary;\n    public transferCartData: ICart | undefined;\n    public flightsCartData: IFlightsCartData | undefined;\n    public accommodationCartData: IAccommodationsCartData | undefined;\n    public carRentalCartData: ICart | undefined;\n    public trainCartData: ICart | undefined;\n    public incompleteOrCancelBookings = false;\n\n    private bookingId: string;\n    private destroy$: Subject<boolean> = new Subject<boolean>();\n\n    constructor(\n        public platformService: PlatformService,\n        private activeRoute: ActivatedRoute,\n        private userService: UserService,\n        private bookingDataService: BookingDataService,\n        private cartService: CartService,\n        private dialogService: DialogService,\n        private settingsService: SettingsService,\n        private translateService: TranslateService,\n        private router: Router,\n        private bookingServiceService: BookingServiceService\n    ) {\n        this.bookingId = this.activeRoute.snapshot.params['id'];\n    }\n\n    ngOnInit() {\n        this.initializeBookingSummaryComponent();\n    }\n\n    ngOnDestroy(): void {\n        this.destroy$.next(true);\n        this.destroy$.complete();\n    }\n\n    public onDownloadBookingVoucher(): void {\n        this.bookingDataService.downloadBookingVoucher(this.bookingId).subscribe((res) => {\n            const newBlob = new Blob([res], { type: 'application/pdf' });\n            const windowUrl = window.URL || window.webkitURL;\n            const url = windowUrl.createObjectURL(newBlob);\n\n            const link = document.createElement('a');\n            link.href = url;\n            link.download = `Trazler_Booking_${this.bookingSummary.booking.bookingNumber}.pdf`;\n            link.dispatchEvent(new MouseEvent('click', { bubbles: true, cancelable: true, view: window }));\n\n            windowUrl.revokeObjectURL(url);\n            this.dialogService.openSnackBar({\n                message: this.translateService.instant('NOTIFS.VOUCHER_LAUNCHED'),\n            });\n        });\n    }\n\n    public onResendBookingMail(): void {\n        this.bookingDataService.sendBookingMail(this.bookingId).subscribe(\n            () => {\n                this.dialogService.openSnackBar({\n                    message: this.translateService.instant('NOTIFS.BOOKING_MAIL_SEND'),\n                });\n            },\n            (failure: any) => {\n                this.dialogService.openSnackBar({ message: failure });\n            }\n        );\n    }\n\n    public onCancel(optionsIds: string[]): void {\n        const cancelable$ = this.bookingServiceService.checkCancelOptions(optionsIds, this.bookingSummary.cart.items);\n        if (!cancelable$) {\n            return;\n        }\n\n        cancelable$.subscribe((cancelBooking: boolean) => {\n            if (!cancelBooking) {\n                return;\n            }\n\n            const cancelOptions = BookingServiceService.getCartOptions(optionsIds, this.bookingSummary.cart.items);\n            for (const option of cancelOptions) {\n                option.status = CartStatus.STATUS_CPROGRESS;\n            }\n\n            this.formBooking();\n\n            this.bookingDataService.cancelBooking(this.bookingId, optionsIds).subscribe(\n                (res) => {\n                    this.fetchBookingSummary();\n                    this.dialogService.openSnackBar({ message: res.message });\n                },\n                (failure: any) => {\n                    this.fetchBookingSummary();\n                    //this.dialogService.openSnackBar({ message: failure.error.message });\n                }\n            );\n        });\n    }\n\n    public gotoHotelDetail(): void {\n        this.router.navigate(['/bookings/accommodation-booking', this.bookingId]);\n    }\n\n    private formBooking(): void {\n        const cartData = ToolsService.deepCopy(this.bookingSummary.cart) as BookingCart;\n        this.flightsCartData = this.cartService.getCartData(ServiceId.FLIGHT, cartData);\n        this.accommodationCartData = this.cartService.getCartData(ServiceId.ACC, cartData);\n        this.transferCartData = this.cartService.getCartData(ServiceId.TRANSFER, cartData);\n        this.carRentalCartData = this.cartService.getCartData(ServiceId.CAR_RENTAL, cartData);\n        this.trainCartData = this.cartService.getCartData(ServiceId.TRAIN, cartData);\n\n        for (const item of cartData.items) {\n            for (const option of item.selectedItem.bookingOptions) {\n                if (option.status < CartStatus.STATUS_CONFIRMED) {\n                    this.incompleteOrCancelBookings = true;\n                }\n            }\n        }\n        //handle case where all items are cancelled\n        if (!this.incompleteOrCancelBookings && !CartUtils.hasStillBookedItem(cartData)) {\n            this.incompleteOrCancelBookings = true;\n        }\n    }\n\n    private fetchBookingSummary(): void {\n        this.bookingDataService.getBooking(this.userService.getCustomerInformation().id, this.bookingId).subscribe(\n            (booking) => {\n                this.bookingSummary = booking;\n                this.formBooking();\n                this.cartService.setCart(booking.cart);\n            },\n            (failure: any) => {\n                console.log('Get booking failure: ', failure);\n            }\n        );\n    }\n\n    private initializeBookingSummaryComponent(): void {\n        this.fetchBookingSummary();\n\n        this.settingsService.selectedLanguageSubject.pipe(skip(1), takeUntil(this.destroy$)).subscribe(() => {\n            this.fetchBookingSummary();\n        });\n    }\n}\n","<ng-container *ngIf=\"bookingSummary && bookingSummary.cart\">\n    <tz-booking-summary\n        *ngIf=\"(platformService.isMobileDevice$ | async) === false\"\n        [bookingSummary]=\"bookingSummary\"\n        [transferCartData]=\"transferCartData\"\n        [flightsCartData]=\"flightsCartData\"\n        [accommodationCartData]=\"accommodationCartData\"\n        [carRentalCartData]=\"carRentalCartData\"\n        [trainCartData]=\"trainCartData\"\n        [incompleteOrCancelBookings]=\"incompleteOrCancelBookings\"\n        (gotoHotel)=\"gotoHotelDetail()\"\n        (cancel)=\"onCancel($event)\"\n        (downloadVoucher)=\"onDownloadBookingVoucher()\"\n        (resendEmail)=\"onResendBookingMail()\"\n    ></tz-booking-summary>\n    <tz-mob-booking-summary\n        *ngIf=\"platformService.isMobileDevice$ | async\"\n        [bookingSummary]=\"bookingSummary\"\n        [transferCartData]=\"transferCartData\"\n        [flightsCartData]=\"flightsCartData\"\n        [accommodationCartData]=\"accommodationCartData\"\n        [carRentalCartData]=\"carRentalCartData\"\n        [trainCartData]=\"trainCartData\"\n        [incompleteOrCancelBookings]=\"incompleteOrCancelBookings\"\n        (gotoHotel)=\"gotoHotelDetail()\"\n        (cancel)=\"onCancel($event)\"\n    ></tz-mob-booking-summary>\n</ng-container>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { BookingSummaryRoutingModule } from './booking-routing.module';\nimport { BookingComponent } from './booking.component';\nimport { SharedModule } from '@shared/shared.module';\nimport { DateRangePipe } from '@shared/pipes/date-range.pipe';\nimport { ResultsCartItemSelectionModule } from '../../results/results-cart-item-selection.module';\nimport { BookingSummaryInfoComponent } from './components/booking-summary-info/booking-summary-info.component';\nimport { BookingSummaryHeaderComponent } from './components/booking-summary-header/booking-summary-header.component';\nimport { TripTimelineModule } from '../../trip-timeline/trip-timeline.module';\nimport { BookingSummaryComponent } from './components/booking-summary/booking-summary.component';\nimport { MobBookingSummaryComponent } from './components/mob-booking-summary/mob-booking-summary.component';\nimport { MobBookingSummaryInfoComponent } from './components/mob-booking-summary-info/mob-booking-summary-info.component';\n\n@NgModule({\n    declarations: [\n        BookingComponent,\n        BookingSummaryComponent,\n        BookingSummaryInfoComponent,\n        BookingSummaryHeaderComponent,\n        MobBookingSummaryComponent,\n        MobBookingSummaryInfoComponent,\n    ],\n    imports: [\n        CommonModule,\n        BookingSummaryRoutingModule,\n        SharedModule,\n        ResultsCartItemSelectionModule,\n        FormsModule,\n        TripTimelineModule,\n    ],\n    providers: [DateRangePipe],\n})\nexport class BookingSummaryModule {}\n","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\nimport { ServiceId } from '@core/constants/service-id.const';\nimport { TranslateService } from '@ngx-translate/core';\nimport { BookingSummary } from '@schemas/modules/bookings/booking-summary';\nimport { ICart } from '@schemas/modules/cart/cart';\nimport { CartUtils } from '@services/modules/cart/utils/cart.utils';\nimport { DateRangePipe } from '@shared/pipes/date-range.pipe';\nimport { SettingsService } from '@services/services/settings-service';\nimport { Subject } from 'rxjs';\nimport { skip, takeUntil } from 'rxjs/operators';\n\n@Component({\n    selector: 'tz-booking-summary-header',\n    templateUrl: './booking-summary-header.component.html',\n    styleUrls: ['./booking-summary-header.component.scss'],\n})\nexport class BookingSummaryHeaderComponent implements OnInit, OnDestroy {\n    @Input() bookingSummary!: BookingSummary;\n\n    public personsStr = '';\n    public tripDate = '';\n    public transfers: {\n        date: Date;\n        title: string | undefined;\n    }[] = [];\n    private destroy$: Subject<boolean> = new Subject<boolean>();\n\n    constructor(\n        private translateService: TranslateService,\n        private dateRange: DateRangePipe,\n        private settingsService: SettingsService\n    ) {}\n\n    ngOnInit() {\n        this.formBookingInfos();\n        this.settingsService.selectedLanguageSubject.pipe(skip(1), takeUntil(this.destroy$)).subscribe(() => {\n            this.tripDate = this.dateRange.transform(\n                this.bookingSummary.booking.startDate,\n                this.bookingSummary.booking.endDate,\n                true\n            );\n        });\n    }\n\n    ngOnDestroy() {\n        this.destroy$.next(true);\n        this.destroy$.complete();\n    }\n\n    private formBookingInfos(): void {\n        const travellersData = CartUtils.getTravellersData(this.bookingSummary.cart.items);\n        if (travellersData) {\n            this.personsStr =\n                travellersData.txt +\n                ' ' +\n                this.translateService\n                    .instant('TRAVELLER.' + (travellersData.total > 1 ? 'PERSONS' : 'PERSON'))\n                    .toLowerCase();\n        }\n\n        const hasMultipleServices = this.bookingSummary.cart.items.some(\n            (item) => item.serviceId !== ServiceId.TRANSFER\n        );\n        if (hasMultipleServices) {\n            const booking = this.bookingSummary.booking;\n            this.tripDate = this.dateRange.transform(booking.startDate, booking.endDate, true);\n        } else {\n            const cartDataWithTitle = CartUtils.formServiceTitle(\n                this.bookingSummary.cart,\n                this.translateService\n            ) as ICart;\n            cartDataWithTitle.items.forEach((item) => {\n                const info = {\n                    date: new Date(item.selectedItem.data.onwardDetails.pickupTzDate),\n                    title: item.summaryHeaderInfo,\n                };\n\n                this.transfers.push(info);\n            });\n        }\n    }\n}\n","<div class=\"back-btn-container\">\n    <div class=\"tz-container flex\">\n        <div class=\"pointer body-2\" routerLink=\"/bookings/bookings-list\">\n            <tz-icon icon=\"arrow_back_ios\"></tz-icon>\n            {{ 'BOOKINGS.BACK_TO_MY_BOOKINGS' | translate }}\n        </div>\n        <div class=\"booking-header\">\n            <ng-container *ngFor=\"let service of bookingSummary.booking.services; let first = first\">\n                <span class=\"service-and\" *ngIf=\"!first\">&nbsp;&&nbsp;</span>\n                {{ 'SERVICES.' + service.toUpperCase() | translate }}\n            </ng-container>\n\n            <ng-container *ngIf=\"transfers.length !== 0; else multipleServiceContent\">\n                <div class=\"bullet-split\" *ngFor=\"let transfer of transfers\">\n                    {{ transfer.title }} {{ transfer.date | tzDate: 'longDate' }}\n                    {{ transfer.date | tzDate: 'shortTime' }}\n                </div>\n            </ng-container>\n            <ng-template #multipleServiceContent>\n                <div class=\"bullet-split\">\n                    <ng-container *ngFor=\"let location of bookingSummary.booking.locationStr\">\n                        {{ location }}\n                    </ng-container>\n                </div>\n                <div class=\"bullet-split\">\n                    {{ tripDate }}\n                </div>\n            </ng-template>\n            <div class=\"bullet-split\">\n                {{ personsStr }}\n            </div>\n        </div>\n    </div>\n</div>\n","import { Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { ToolsService } from '@core/utils/tools-service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { BookingCart, BookingSummary } from '@schemas/modules/bookings/booking-summary';\nimport { CheckoutCartServiceSummary } from '@schemas/modules/checkout/cart-summary';\nimport { CheckoutTraveller } from '@schemas/modules/checkout/cart-traveller';\nimport { SelectedBagOption, SelectedLuggageAmount } from '@schemas/modules/checkout/transport-luggage';\nimport { SelectedInsurance } from '@schemas/modules/checkout/travel-insurance';\nimport { TzCheckoutService } from '@services/modules/checkout/services/tz-checkout.service';\n\n@Component({\n    selector: 'tz-booking-summary-info',\n    templateUrl: './booking-summary-info.component.html',\n    styleUrls: ['./booking-summary-info.component.scss'],\n})\nexport class BookingSummaryInfoComponent implements OnChanges, OnInit {\n    @Input() bookingSummary!: BookingSummary;\n\n    public cartSummary: CheckoutCartServiceSummary[] = [];\n    public cartData!: BookingCart;\n    public selectedInsurance = { selectedIdx: -1 } as SelectedInsurance;\n    public additionalLuggagePrice = { listPrice: 0, listPriceCur: '' } as SelectedLuggageAmount;\n    public additionalLuggages: { type: string; luggageText: string }[] = [];\n\n    public travellers: CheckoutTraveller[] = [];\n    public accTravellers: CheckoutTraveller[] = [];\n    public travellerNames: string[] = [];\n    public transferTraveller!: CheckoutTraveller;\n    public driverInfo!: CheckoutTraveller;\n\n    constructor(private tzCheckoutService: TzCheckoutService, private translateService: TranslateService) {}\n\n    private static formLuggageText(option: SelectedBagOption): string {\n        let txt = 'pc x ';\n        if (option.count > 1) {\n            txt = 'pcs x ';\n        }\n\n        if (option.weight === 0) {\n            return option.count + ' ' + txt;\n        }\n\n        // 2 pcs x 23kg\n        return option.count + ' ' + txt + option.weight + 'kg';\n    }\n\n    ngOnInit() {\n        this.init();\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        if (\n            changes['bookingSummary'] &&\n            changes['bookingSummary'].currentValue &&\n            !changes['bookingSummary'].firstChange\n        ) {\n            this.init();\n        }\n    }\n\n    private formSummaryLuggageInfo(): void {\n        const booking = this.bookingSummary.booking;\n\n        this.additionalLuggagePrice = {\n            listPrice: booking.additionalLuggagePrice.listPrice,\n            listPriceCur: booking.additionalLuggagePrice.listPriceCur,\n        };\n\n        const tmpLuggageMap: { [key: string]: SelectedBagOption } = {};\n        let byTotalWeight: boolean;\n\n        for (const traveller of booking.travellers) {\n            if (!traveller.additionalLuggage || !traveller.additionalLuggage.checkIn.options) {\n                continue;\n            }\n\n            byTotalWeight = traveller.additionalLuggage.checkIn.byTotalWeight;\n            for (const i in traveller.additionalLuggage.checkIn.options) {\n                if (!traveller.additionalLuggage.checkIn.options.hasOwnProperty(i)) {\n                    continue;\n                }\n\n                const option = traveller.additionalLuggage.checkIn.options[i];\n                if (tmpLuggageMap[option.weight]) {\n                    if (byTotalWeight) {\n                        tmpLuggageMap[option.weight].weight += option.weight * option.count;\n                    }\n\n                    tmpLuggageMap[option.weight].count += option.count;\n                } else {\n                    tmpLuggageMap[option.weight] = option;\n                }\n            }\n        }\n\n        const bagTitle = this.translateService.instant('FLIGHT.LUGGAGE.checkIn');\n        for (const title in tmpLuggageMap) {\n            if (!tmpLuggageMap.hasOwnProperty(title)) {\n                continue;\n            }\n\n            this.additionalLuggages.push({\n                type: bagTitle,\n                luggageText: BookingSummaryInfoComponent.formLuggageText(tmpLuggageMap[title]),\n            });\n        }\n    }\n\n    private uniqueTravellers(a: CheckoutTraveller[]): CheckoutTraveller[] {\n        const seen: {\n            [item: string]: boolean;\n        } = {};\n\n        return a.filter((item: CheckoutTraveller): boolean => {\n            if (seen[item.firstName + item.lastName]) {\n                return false;\n            }\n            seen[item.firstName + item.lastName] = true;\n            return true;\n        });\n    }\n\n    private formSummaryInfos(): void {\n        this.travellers = this.bookingSummary.booking.travellers;\n        this.accTravellers = this.uniqueTravellers(this.bookingSummary.booking.accTravellers);\n        this.transferTraveller = this.bookingSummary.booking.transferTraveller;\n        this.driverInfo = this.bookingSummary.booking.driverInfo;\n\n        this.cartSummary = this.tzCheckoutService.formCheckoutCartSummary(this.cartData.items);\n        if (this.cartData.insurancePrice && this.cartData.insurancePrice.listPrice) {\n            const selected = this.cartData.insuranceDataSummary.insuranceBooking;\n\n            for (const [i, insurance] of this.cartData.insuranceDataSummary.tzInsurance.insurances.entries()) {\n                if (selected.formuleRef !== insurance.formuleRef) {\n                    continue;\n                }\n\n                this.selectedInsurance = {\n                    selected: insurance,\n                    selectedIdx: i,\n                    validatedTC: true,\n                };\n            }\n        }\n\n        if (this.bookingSummary.booking.baggageSelected) {\n            this.formSummaryLuggageInfo();\n        }\n\n        this.cartData.helpers = this.tzCheckoutService.getHelpers(\n            this.cartData,\n            this.additionalLuggagePrice,\n            this.selectedInsurance.selected\n        );\n    }\n\n    private init() {\n        this.cartData = ToolsService.deepCopy(this.bookingSummary.cart) as BookingCart;\n        this.formSummaryInfos();\n    }\n}\n","<div class=\"booking-summary-container\">\n    <tz-cart-summary\n        [cartSummary]=\"cartSummary\"\n        [cartData]=\"cartData\"\n        [luggageAmount]=\"additionalLuggagePrice\"\n        [selectedInsurance]=\"selectedInsurance\"\n        [additionalLuggages]=\"additionalLuggages\"\n        [hideImprintInfo]=\"true\"\n    ></tz-cart-summary>\n    <div class=\"booking-summary-block\">\n        <div\n            *ngFor=\"let traveller of travellers; let i = index\"\n            [ngClass]=\"{ 'hide-traveller': traveller.hideTraveller }\"\n        >\n            <div class=\"booking-label\">\n                <span>\n                    {{ 'TRAVELLER.' + (i === 0 ? 'PRIMARY_TRAVELER' : 'TRAVELER') | translate }}\n                    {{ i !== 0 ? i + 1 : '' }}\n                </span>\n                <div\n                    class=\"tz-icon-filled-arrow arrow\"\n                    (click)=\"traveller.hideTraveller = !traveller.hideTraveller\"\n                ></div>\n            </div>\n            <div class=\"booking-info\">\n                <div>{{ traveller.firstName }} {{ traveller.lastName }}</div>\n                <div *ngIf=\"traveller.dateOfBirth && traveller.dateOfBirth !== ''\">\n                    {{ traveller.dateOfBirth | tzDate: 'shortDate' }}\n                </div>\n                <div *ngIf=\"traveller.idCardNumber && traveller.idCardNumber !== ''\">\n                    {{ traveller.idCardType }} # {{ traveller.idCardNumber }}\n                </div>\n                <div *ngIf=\"traveller.idCardValidity && traveller.idCardValidity !== ''\">\n                    {{ 'TRAVELLER.PASSENGERS_VALID' | translate }}\n                    {{ traveller.idCardValidity | tzDate: 'shortDate' }}\n                </div>\n            </div>\n        </div>\n        <div *ngIf=\"accTravellers.length !== 0\" [ngClass]=\"{ 'hide-traveller': accTravellers[0].hideTraveller }\">\n            <div class=\"booking-label\">\n                <span>\n                    {{ 'BOOKINGS.' + (accTravellers.length > 1 ? 'GUEST_NAMES' : 'GUEST_NAME') | translate }}\n                </span>\n                <div\n                    class=\"tz-icon-filled-arrow arrow\"\n                    (click)=\"accTravellers[0].hideTraveller = !accTravellers[0].hideTraveller\"\n                ></div>\n            </div>\n            <div class=\"booking-info\" *ngFor=\"let traveller of accTravellers; let i = index\">\n                <div>{{ traveller.firstName }} {{ traveller.lastName }}</div>\n            </div>\n        </div>\n        <div\n            *ngIf=\"transferTraveller && transferTraveller.firstName\"\n            [ngClass]=\"{ 'hide-traveller': transferTraveller.hideTraveller }\"\n        >\n            <div class=\"booking-label\">\n                <span> {{ 'TRAVELLER.Customer_Info' | translate }} </span>\n                <div\n                    class=\"tz-icon-filled-arrow arrow\"\n                    (click)=\"transferTraveller.hideTraveller = !transferTraveller.hideTraveller\"\n                ></div>\n            </div>\n            <div class=\"booking-info\">\n                <div>{{ transferTraveller.firstName }} {{ transferTraveller.lastName }}</div>\n                <div>{{ transferTraveller.phone.number }}</div>\n            </div>\n        </div>\n        <div *ngIf=\"driverInfo && driverInfo.firstName\" [ngClass]=\"{ 'hide-traveller': driverInfo.hideTraveller }\">\n            <div class=\"booking-label\">\n                <span> {{ 'BOOKINGS.SUMMARY.CAR_RENTAL_DRIVER' | translate }} </span>\n                <div\n                    class=\"tz-icon-filled-arrow arrow\"\n                    (click)=\"driverInfo.hideTraveller = !driverInfo.hideTraveller\"\n                ></div>\n            </div>\n            <div class=\"booking-info\">\n                <div>{{ driverInfo.firstName }} {{ driverInfo.lastName }}</div>\n                <div>{{ driverInfo.dateOfBirth | tzDate: 'shortDate' }}</div>\n            </div>\n        </div>\n    </div>\n    <div class=\"booking-summary-block\" *ngIf=\"bookingSummary.booking.billingInfo.lastFourDigits !== ''\">\n        <div>\n            <div class=\"booking-label card-detail\">\n                <span> {{ 'GENERAL.PAYMENT' | translate }} </span>\n                <div>\n                    **** {{ bookingSummary.booking.billingInfo.lastFourDigits }}\n                    {{ bookingSummary.booking.billingInfo.brandType }}\n                </div>\n            </div>\n            <div class=\"booking-info\" *ngIf=\"bookingSummary.booking.billingInfo.cardHolder !== ''\">\n                <div>{{ bookingSummary.booking.billingInfo.cardHolder }}</div>\n            </div>\n        </div>\n    </div>\n    <div class=\"booking-summary-block\" *ngIf=\"bookingSummary.booking.invoiceRequired\">\n        <div [ngClass]=\"{ 'hide-traveller': bookingSummary.booking.billingAddress.hideBillingInfo }\">\n            <div class=\"booking-label\">\n                <span> {{ 'BOOKINGS.SUMMARY.BILLING' | translate }} </span>\n                <div\n                    class=\"tz-icon-filled-arrow arrow\"\n                    (click)=\"\n                        bookingSummary.booking.billingAddress.hideBillingInfo =\n                            !bookingSummary.booking.billingAddress.hideBillingInfo\n                    \"\n                ></div>\n            </div>\n            <div class=\"booking-info\">\n                <div>{{ bookingSummary.booking.billingAddress.companyName }}</div>\n                <div>{{ bookingSummary.booking.billingAddress.address }}</div>\n                <div>{{ bookingSummary.booking.billingAddress.zipCode }}</div>\n                <div>{{ bookingSummary.booking.billingAddress.city }}</div>\n                <div>{{ bookingSummary.booking.billingAddress.country }}</div>\n                <div>\n                    {{ 'BOOKINGS.SUMMARY.VAT' | translate }}:&nbsp;&nbsp;{{\n                        bookingSummary.booking.billingAddress.vatNo\n                    }}\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { IAccommodationsCartData } from '@schemas/modules/accommodations/accommodations-cart-data';\nimport { BookingSummary } from '@schemas/modules/bookings/booking-summary';\nimport { ICart } from '@schemas/modules/cart/cart';\nimport { IFlightsCartData } from '@schemas/modules/flights/flights-cart-data';\nimport { DialogService } from '@services/dialog.service';\nimport { ScreenDetectorService } from '@services/screen-detector.service';\nimport { BehaviorSubject } from 'rxjs';\nimport { TripTimelineDialogComponent } from 'src/app/modules/trip-timeline/components/trip-timeline-dialog/trip-timeline-dialog.component';\n\n@Component({\n    selector: 'tz-booking-summary',\n    templateUrl: './booking-summary.component.html',\n    styleUrls: ['./booking-summary.component.scss'],\n})\nexport class BookingSummaryComponent {\n    @Input() bookingSummary!: BookingSummary;\n    @Input() transferCartData: ICart | undefined;\n    @Input() flightsCartData: IFlightsCartData | undefined;\n    @Input() accommodationCartData: IAccommodationsCartData | undefined;\n    @Input() carRentalCartData: ICart | undefined;\n    @Input() trainCartData: ICart | undefined;\n    @Input() incompleteOrCancelBookings = false;\n\n    @Output() cancel = new EventEmitter<string[]>();\n    @Output() downloadVoucher = new EventEmitter<void>();\n    @Output() resendEmail = new EventEmitter<void>();\n    @Output() gotoHotel = new EventEmitter<void>();\n\n    public showTimeLine = false;\n    public mouseHoverId = '';\n    public isMobile$?: BehaviorSubject<boolean>;\n\n    constructor(private dialogService: DialogService, private screenSizeDetectorService: ScreenDetectorService) {\n        this.isMobile$ = this.screenSizeDetectorService.isMobile;\n    }\n\n    public setHoverId(itemId: string): void {\n        this.mouseHoverId = itemId;\n    }\n\n    public openBasketTimeline(): void {\n        if (this.bookingSummary.cart.items.length === 0) {\n            return;\n        }\n\n        this.dialogService.openBasketTimelineDialog(TripTimelineDialogComponent, this.bookingSummary.cart.items);\n    }\n\n    public onCancel(bookingIds: string[]): void {\n        this.cancel.emit(bookingIds);\n    }\n}\n","<tz-booking-summary-header [bookingSummary]=\"bookingSummary\"></tz-booking-summary-header>\n<div class=\"tz-container mb-4\">\n    <div class=\"action-btn-container\">\n        <label class=\"switch\" *ngIf=\"(isMobile$ | async) === false\">\n            <input type=\"checkbox\" [(ngModel)]=\"showTimeLine\" />\n            <span class=\"slider round\"></span>\n            <span translate=\"TIMELINE.SUMMARY_TITLE\"></span>\n        </label>\n        <div *ngIf=\"isMobile$ | async\" class=\"timeline-btn\" (click)=\"openBasketTimeline()\">\n            <div class=\"tz-icomoon-icon icon-timeline-end-icon\"></div>\n            <span> {{ 'TIMELINE.TIMELINE' | translate }} </span>\n        </div>\n        <div *ngIf=\"!incompleteOrCancelBookings\">\n            <button\n                class=\"tz-btn tz-btn-secondary tz-btn--select\"\n                translate=\"BOOKINGS.SUMMARY.DOWNLOAD_PDF_VOUCHER\"\n                (click)=\"downloadVoucher.emit()\"\n            ></button>\n            <button\n                class=\"tz-btn tz-btn-secondary tz-btn--select\"\n                translate=\"BOOKINGS.SUMMARY.RESEND_EMAIL_CONFIRMATION\"\n                (click)=\"resendEmail.emit()\"\n            ></button>\n        </div>\n    </div>\n    <ng-container>\n        <div class=\"tz-block-separator-title\">\n            <tz-block-separator>\n                {{ 'BOOKINGS.SUMMARY.TRAZLER_BOOKING_NUMBER' | translate }}: {{ bookingSummary.booking.bookingNumber }}\n            </tz-block-separator>\n        </div>\n        <div class=\"flex\">\n            <div class=\"booking-summary-timeline\" *ngIf=\"showTimeLine\">\n                <tz-trip-timeline\n                    [cartItems]=\"bookingSummary.cart.items\"\n                    [selectedId]=\"mouseHoverId\"\n                ></tz-trip-timeline>\n            </div>\n            <div class=\"booking-summary-service-list flex flex-column\">\n                <ng-container *ngIf=\"flightsCartData && flightsCartData.items && flightsCartData.items.length\">\n                    <tz-selected-flights\n                        (mouseenter)=\"setHoverId(flightsCartData.items[0].selectedItem.id)\"\n                        (mouseleave)=\"setHoverId('')\"\n                        [flightCartData]=\"flightsCartData\"\n                        [fromBookings]=\"true\"\n                        [paymentCaptureMode]=\"bookingSummary.booking.paymentCaptureMode\"\n                        (cancel)=\"onCancel([flightsCartData.items[0].selectedItem.bookingOptions[0].itineraryId])\"\n                    ></tz-selected-flights>\n                </ng-container>\n                <ng-container *ngIf=\"trainCartData && trainCartData.items && trainCartData.items.length\">\n                    <div class=\"selected-train-container\">\n                        <ng-container>\n                            <tz-selected-trains\n                                (mouseenter)=\"setHoverId(trainCartData.items[0].selectedItem.id)\"\n                                (mouseleave)=\"setHoverId('')\"\n                                [trainItems]=\"trainCartData.items\"\n                                [fromBookings]=\"true\"\n                                [paymentCaptureMode]=\"bookingSummary.booking.paymentCaptureMode\"\n                                (cancel)=\"onCancel([trainCartData.items[0].selectedItem.bookingOptions[0].itineraryId])\"\n                            ></tz-selected-trains>\n                        </ng-container>\n                    </div>\n                </ng-container>\n                <ng-container\n                    *ngIf=\"accommodationCartData && accommodationCartData.items && accommodationCartData.items.length\"\n                >\n                    <tz-selected-accommodations\n                        (mouseenter)=\"setHoverId(accommodationCartData.items[0].selectedItem.id)\"\n                        (mouseleave)=\"setHoverId('')\"\n                        [accommodationCartData]=\"accommodationCartData\"\n                        [fromBookings]=\"true\"\n                        (gotoHotel)=\"gotoHotel.emit()\"\n                        [paymentCaptureMode]=\"bookingSummary.booking.paymentCaptureMode\"\n                        (cancel)=\"onCancel($event)\"\n                    ></tz-selected-accommodations>\n                </ng-container>\n                <ng-container *ngIf=\"transferCartData && transferCartData.items && transferCartData.items.length\">\n                    <tz-selected-transfers\n                        [transferCartData]=\"transferCartData\"\n                        (selectedId)=\"setHoverId($event)\"\n                        [fromBookings]=\"true\"\n                        [paymentCaptureMode]=\"bookingSummary.booking.paymentCaptureMode\"\n                        (cancel)=\"onCancel([$event])\"\n                    ></tz-selected-transfers>\n                </ng-container>\n                <ng-container *ngIf=\"carRentalCartData && carRentalCartData.items && carRentalCartData.items.length\">\n                    <tz-selected-car-rentals\n                        (mouseenter)=\"setHoverId(carRentalCartData.items[0].selectedItem.id)\"\n                        (mouseleave)=\"setHoverId('')\"\n                        [serviceList]=\"false\"\n                        [carRentalCartData]=\"carRentalCartData\"\n                        [fromBookings]=\"true\"\n                        [paymentCaptureMode]=\"bookingSummary.booking.paymentCaptureMode\"\n                        (cancel)=\"onCancel([carRentalCartData.items[0].selectedItem.bookingOptions[0].itineraryId])\"\n                    ></tz-selected-car-rentals>\n                </ng-container>\n            </div>\n            <div class=\"booking-summary-container\" *ngIf=\"(isMobile$ | async) === false && !showTimeLine\">\n                <tz-booking-summary-info [bookingSummary]=\"bookingSummary\"></tz-booking-summary-info>\n            </div>\n        </div>\n    </ng-container>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { ToolsService } from '@core/utils/tools-service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { BookingCart, BookingSummary } from '@schemas/modules/bookings/booking-summary';\nimport { CheckoutCartServiceSummary } from '@schemas/modules/checkout/cart-summary';\nimport { CheckoutTraveller } from '@schemas/modules/checkout/cart-traveller';\nimport { SelectedBagOption, SelectedLuggageAmount } from '@schemas/modules/checkout/transport-luggage';\nimport { SelectedInsurance } from '@schemas/modules/checkout/travel-insurance';\nimport { TzCheckoutService } from '@services/modules/checkout/services/tz-checkout.service';\n\n@Component({\n    selector: 'tz-mob-booking-summary-info',\n    templateUrl: './mob-booking-summary-info.component.html',\n    styleUrls: ['./mob-booking-summary-info.component.scss'],\n})\nexport class MobBookingSummaryInfoComponent implements OnInit {\n    @Input() bookingSummary!: BookingSummary;\n\n    public cartSummary: CheckoutCartServiceSummary[] = [];\n    public cartData!: BookingCart;\n    public selectedInsurance = { selectedIdx: -1 } as SelectedInsurance;\n    public additionalLuggagePrice = { listPrice: 0, listPriceCur: '' } as SelectedLuggageAmount;\n    public additionalLuggages: string[] = [];\n\n    public travellers: CheckoutTraveller[] = [];\n    public accTravellers: CheckoutTraveller[] = [];\n    public transferTraveller!: CheckoutTraveller;\n    public driverInfo!: CheckoutTraveller;\n\n    constructor(private tzCheckoutService: TzCheckoutService, private translateService: TranslateService) {}\n\n    ngOnInit() {\n        this.cartData = ToolsService.deepCopy(this.bookingSummary.cart) as BookingCart;\n        this.formSummaryInfos();\n    }\n\n    private formLuggageText(option: SelectedBagOption, type: string): string {\n        const bagTitle = this.translateService.instant('FLIGHT.LUGGAGE.' + type);\n\n        let txt = 'pc x ';\n        if (option.count > 1) {\n            txt = 'pcs x ';\n        }\n\n        if (option.weight === 0) {\n            return bagTitle + ': ' + option.count + ' ' + txt;\n        }\n\n        // 2 pcs x 23kg\n        return bagTitle + ': ' + option.count + ' ' + txt + option.weight + 'kg';\n    }\n\n    private formSummaryLuggageInfo(): void {\n        const booking = this.bookingSummary.booking;\n\n        this.additionalLuggagePrice = {\n            listPrice: booking.additionalLuggagePrice.listPrice,\n            listPriceCur: booking.additionalLuggagePrice.listPriceCur,\n        };\n\n        const tmpLuggageMap: { [key: string]: SelectedBagOption } = {};\n        let byTotalWeight = false;\n\n        for (const traveller of booking.travellers) {\n            if (!traveller.additionalLuggage || !traveller.additionalLuggage.checkIn.options) {\n                continue;\n            }\n\n            byTotalWeight = traveller.additionalLuggage.checkIn.byTotalWeight;\n            for (const i in traveller.additionalLuggage.checkIn.options) {\n                if (!traveller.additionalLuggage.checkIn.options.hasOwnProperty(i)) {\n                    continue;\n                }\n\n                const option = traveller.additionalLuggage.checkIn.options[i];\n                if (tmpLuggageMap[option.weight]) {\n                    if (byTotalWeight) {\n                        tmpLuggageMap[option.weight].weight += option.weight * option.count;\n                    }\n\n                    tmpLuggageMap[option.weight].count += option.count;\n                } else {\n                    tmpLuggageMap[option.weight] = option;\n                }\n            }\n        }\n\n        for (const title in tmpLuggageMap) {\n            if (!tmpLuggageMap.hasOwnProperty(title)) {\n                continue;\n            }\n\n            this.additionalLuggages.push(this.formLuggageText(tmpLuggageMap[title], 'checkIn'));\n        }\n    }\n\n    private formSummaryInfos(): void {\n        this.travellers = this.bookingSummary.booking.travellers;\n        this.accTravellers = this.bookingSummary.booking.accTravellers;\n        this.transferTraveller = this.bookingSummary.booking.transferTraveller;\n        this.driverInfo = this.bookingSummary.booking.driverInfo;\n\n        this.cartSummary = this.tzCheckoutService.formCheckoutCartSummary(this.cartData.items);\n        if (this.cartData.insurancePrice && this.cartData.insurancePrice.listPrice) {\n            const selected = this.cartData.insuranceDataSummary.insuranceBooking;\n\n            for (const [i, insurance] of this.cartData.insuranceDataSummary.tzInsurance.insurances.entries()) {\n                if (selected.formuleRef !== insurance.formuleRef) {\n                    continue;\n                }\n\n                this.selectedInsurance = {\n                    selected: insurance,\n                    selectedIdx: i,\n                    validatedTC: true,\n                };\n            }\n        }\n\n        if (this.bookingSummary.booking.baggageSelected) {\n            this.formSummaryLuggageInfo();\n        }\n\n        this.cartData.helpers = this.tzCheckoutService.getHelpers(\n            this.cartData,\n            this.additionalLuggagePrice,\n            this.selectedInsurance.selected\n        );\n    }\n}\n","<div class=\"booking-summary-container\">\n    <div class=\"booking-summary-block\">\n        <div class=\"booking-block\">\n            <div class=\"booking-label\">\n                <span>\n                    {{ 'CAR_RENTAL.' + (travellers.length > 1 ? 'PASSENGERS' : 'PASSENGER') | translate }}\n                </span>\n            </div>\n            <div class=\"booking-item\" *ngFor=\"let traveller of travellers; let i = index\">\n                <div class=\"booking-info d-flex\">\n                    <div>{{ traveller.firstName }} {{ traveller.lastName }} |&nbsp;</div>\n                    <div *ngIf=\"traveller.dateOfBirth && traveller.dateOfBirth !== ''\">\n                        {{ traveller.dateOfBirth | date: 'dd/MM/YYYY' }}\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div *ngIf=\"driverInfo && driverInfo.firstName\" class=\"booking-block\">\n            <div class=\"booking-label\">\n                <span> {{ 'BOOKINGS.SUMMARY.CAR_RENTAL_DRIVER' | translate }} </span>\n            </div>\n            <div class=\"booking-item booking-info d-flex\">\n                <div>{{ driverInfo.firstName }} {{ driverInfo.lastName }} |&nbsp;</div>\n                <div>{{ driverInfo.dateOfBirth | date: 'dd/MM/YYYY' }}</div>\n            </div>\n        </div>\n        <div class=\"booking-block mb-0\">\n            <div class=\"booking-label\">\n                <span>\n                    {{ 'GENERAL.PAYMENT' | translate }}\n                </span>\n            </div>\n            <div class=\"booking-info booking-card-holder\" *ngIf=\"bookingSummary.booking.billingInfo.cardHolder !== ''\">\n                <div>{{ bookingSummary.booking.billingInfo.cardHolder }}</div>\n            </div>\n            <div class=\"booking-item d-flex\">\n                 {{ bookingSummary.booking.billingInfo.lastFourDigits }} &nbsp;\n                <tz-icon\n                    [icon]=\"bookingSummary.booking.billingInfo.brandType === 'visa' ? 'visa-icon' : 'icon-master-card'\"\n                >\n                </tz-icon>\n            </div>\n        </div>\n    </div>\n    <div class=\"booking-summary-block\" *ngIf=\"bookingSummary.booking.invoiceRequired\">\n        <div [ngClass]=\"{ 'hide-traveller': bookingSummary.booking.billingAddress.hideBillingInfo }\">\n            <div class=\"booking-label\">\n                <span> {{ 'BOOKINGS.SUMMARY.BILLING' | translate }} </span>\n                <div\n                    class=\"tz-icon-filled-arrow arrow\"\n                    (click)=\"\n                        bookingSummary.booking.billingAddress.hideBillingInfo =\n                            !bookingSummary.booking.billingAddress.hideBillingInfo\n                    \"\n                ></div>\n            </div>\n            <div class=\"booking-info\">\n                <div>{{ bookingSummary.booking.billingAddress.companyName }}</div>\n                <div>{{ bookingSummary.booking.billingAddress.address }}</div>\n                <div>{{ bookingSummary.booking.billingAddress.zipCode }}</div>\n                <div>{{ bookingSummary.booking.billingAddress.city }}</div>\n                <div>{{ bookingSummary.booking.billingAddress.country }}</div>\n                <div>\n                    {{ 'BOOKINGS.SUMMARY.VAT' | translate }}:&nbsp;&nbsp;{{\n                        bookingSummary.booking.billingAddress.vatNo\n                    }}\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { IAccommodationsCartData } from '@schemas/modules/accommodations/accommodations-cart-data';\nimport { BookingSummary } from '@schemas/modules/bookings/booking-summary';\nimport { ICart } from '@schemas/modules/cart/cart';\nimport { IFlightsCartData } from '@schemas/modules/flights/flights-cart-data';\n\n@Component({\n    selector: 'tz-mob-booking-summary',\n    templateUrl: './mob-booking-summary.component.html',\n    styleUrls: ['./mob-booking-summary.component.scss'],\n})\nexport class MobBookingSummaryComponent {\n    @Input() bookingSummary!: BookingSummary;\n    @Input() transferCartData: ICart | undefined;\n    @Input() flightsCartData: IFlightsCartData | undefined;\n    @Input() accommodationCartData: IAccommodationsCartData | undefined;\n    @Input() carRentalCartData: ICart | undefined;\n    @Input() trainCartData: ICart | undefined;\n    @Input() incompleteOrCancelBookings = false;\n\n    @Output() cancel = new EventEmitter<string[]>();\n    @Output() gotoHotel = new EventEmitter<void>();\n\n    public selectedTab: 0 | 1 = 0;\n\n    constructor() {}\n\n    public onCancel(bookingIds: string[]): void {\n        this.cancel.emit(bookingIds);\n    }\n}\n","<div class=\"header\">\n    <div class=\"back-button\" routerLink=\"/bookings/bookings-list\">\n        <tz-icon icon=\"arrow_back_ios\" data-test=\"back-to-basket\"></tz-icon>\n    </div>\n    {{ 'BOOKINGS.BOOKING' | translate }}# {{ bookingSummary.booking.bookingNumber }}\n</div>\n<div class=\"service-container\">\n    <ng-container *ngFor=\"let service of bookingSummary.booking.services; let first = first\">\n        <span class=\"service-and\" *ngIf=\"!first\">&nbsp;|&nbsp;</span>\n        {{ 'SERVICES.' + service.toUpperCase() | translate }}\n    </ng-container>\n</div>\n\n<tz-mob-booking-summary-info [bookingSummary]=\"bookingSummary\"></tz-mob-booking-summary-info>\n\n<div class=\"tz-toggle-button-container\">\n    <div class=\"tz-toggle-button\" [ngClass]=\"{ selected: selectedTab === 0 }\" (click)=\"selectedTab = 0\">\n        {{ 'GENERAL.SUMMARY' | translate }}\n    </div>\n    <div class=\"tz-toggle-button\" [ngClass]=\"{ selected: selectedTab === 1 }\" (click)=\"selectedTab = 1\">\n        {{ 'TIMELINE.TIMELINE' | translate }}\n    </div>\n</div>\n<tz-trip-timeline [hidden]=\"selectedTab !== 1\" [cartItems]=\"bookingSummary.cart.items\"></tz-trip-timeline>\n<div class=\"flex flex-column\" [hidden]=\"selectedTab !== 0\">\n    <ng-container *ngIf=\"flightsCartData && flightsCartData.items && flightsCartData.items.length\">\n        <tz-selected-flights\n            [flightCartData]=\"flightsCartData\"\n            [fromBookings]=\"true\"\n            [paymentCaptureMode]=\"bookingSummary.booking.paymentCaptureMode\"\n            (cancel)=\"onCancel([flightsCartData.items[0].selectedItem.bookingOptions[0].itineraryId])\"\n        ></tz-selected-flights>\n    </ng-container>\n    <ng-container *ngIf=\"trainCartData && trainCartData.items && trainCartData.items.length\">\n        <div class=\"selected-train-container\">\n            <ng-container>\n                <tz-selected-trains\n                    [trainItems]=\"trainCartData.items\"\n                    [fromBookings]=\"true\"\n                    [paymentCaptureMode]=\"bookingSummary.booking.paymentCaptureMode\"\n                    (cancel)=\"onCancel([trainCartData.items[0].selectedItem.bookingOptions[0].itineraryId])\"\n                ></tz-selected-trains>\n            </ng-container>\n        </div>\n    </ng-container>\n    <ng-container *ngIf=\"accommodationCartData && accommodationCartData.items && accommodationCartData.items.length\">\n        <tz-selected-accommodations\n            [accommodationCartData]=\"accommodationCartData\"\n            [fromBookings]=\"true\"\n            [bookingSummary]=\"bookingSummary\"\n            [paymentCaptureMode]=\"bookingSummary.booking.paymentCaptureMode\"\n            (cancel)=\"onCancel($event)\"\n            (gotoHotel)=\"gotoHotel.emit()\"\n        ></tz-selected-accommodations>\n    </ng-container>\n    <ng-container *ngIf=\"transferCartData && transferCartData.items && transferCartData.items.length\">\n        <tz-selected-transfers\n            [transferCartData]=\"transferCartData\"\n            [fromBookings]=\"true\"\n            [paymentCaptureMode]=\"bookingSummary.booking.paymentCaptureMode\"\n            (cancel)=\"onCancel([$event])\"\n            [isSummary]=\"true\"\n        ></tz-selected-transfers>\n    </ng-container>\n    <ng-container *ngIf=\"carRentalCartData && carRentalCartData.items && carRentalCartData.items.length\">\n        <tz-selected-car-rentals\n            [carRentalCartData]=\"carRentalCartData\"\n            [fromBookings]=\"true\"\n            [serviceList]=\"false\"\n            [paymentCaptureMode]=\"bookingSummary.booking.paymentCaptureMode\"\n            (cancel)=\"onCancel([carRentalCartData.items[0].selectedItem.bookingOptions[0].itineraryId])\"\n        ></tz-selected-car-rentals>\n    </ng-container>\n</div>\n"],"names":["CartStatus","ServiceId","ToolsService","skip","takeUntil","Subject","CartUtils","BookingServiceService","i0","ctx_r3","ctx_r5","ctx_r6","ctx_r7","ctx_r1","ctx_r8","ctx_r10","ctx_r2","BookingComponent","constructor","platformService","activeRoute","userService","bookingDataService","cartService","dialogService","settingsService","translateService","router","bookingServiceService","bookingId","snapshot","params","ngOnInit","initializeBookingSummaryComponent","ngOnDestroy","destroy$","next","complete","onDownloadBookingVoucher","downloadBookingVoucher","subscribe","res","newBlob","Blob","type","windowUrl","window","URL","webkitURL","url","createObjectURL","link","document","createElement","href","download","bookingSummary","booking","bookingNumber","dispatchEvent","MouseEvent","bubbles","cancelable","view","revokeObjectURL","openSnackBar","message","instant","onResendBookingMail","sendBookingMail","failure","onCancel","optionsIds","cancelable$","checkCancelOptions","cart","items","cancelBooking","cancelOptions","getCartOptions","option","status","STATUS_CPROGRESS","formBooking","fetchBookingSummary","gotoHotelDetail","navigate","cartData","deepCopy","flightsCartData","getCartData","FLIGHT","accommodationCartData","ACC","transferCartData","TRANSFER","carRentalCartData","CAR_RENTAL","trainCartData","TRAIN","item","selectedItem","bookingOptions","STATUS_CONFIRMED","incompleteOrCancelBookings","hasStillBookedItem","getBooking","getCustomerInformation","id","setCart","console","log","selectedLanguageSubject","pipe","selectors","decls","vars","consts","template","EventEmitter","TripTimelineDialogComponent","ctx_r12","ctx_r14","ctx_r16","ctx_r17","ctx_r19","ctx_r20","itineraryId","ctx_r4","ctx_r21","ctx_r23","ctx_r24","ctx_r25","ctx_r27","ctx_r28","ctx_r29","ctx_r30","ctx_r32","ctx_r33","ctx_r35","ctx_r36","BookingSummaryComponent","screenSizeDetectorService","isMobile$","isMobile","setHoverId","itemId","mouseHoverId","openBasketTimeline","length","openBasketTimelineDialog","bookingIds","cancel","emit","inputs","outputs","downloadVoucher","resendEmail","gotoHotel"],"sourceRoot":"webpack:///"}